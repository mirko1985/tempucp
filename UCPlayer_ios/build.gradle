buildscript {
    ext.kotlin_native_version = '0.6'
    repositories {
        mavenCentral()
        maven {
            url "https://dl.bintray.com/jetbrains/kotlin-native-dependencies"
        }
    }
    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-native-gradle-plugin:$kotlin_native_version"
    }
}

apply plugin: "konan"
konan.targets = ["iphone", "iphone_sim"]
konanArtifacts {
    framework('UCPlayer_ios') {
        srcDir '../src/'
    }
}

build.doLast {
    copy {
        from "${buildDir}/konan/bin/iphone_sim"
        include "*.*"
	    include "**"
        into "${projectDir}/UCPlayerIos"
    }
}